<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Login</title>
    <link rel="stylesheet" href="login.css" />
</head>

<body>
    <div id="error"></div>
    <section class="form-section">
        <h1><a href="home.html">Lispector Livraria</a></h1>
        <div class="form-wrapper">
            <form id="f1" name="f1" action="/" method="POST">
                <div class="input-block">
                    <label for="email" >Email</label>
                    <input name="email" type="email" id="email"  />
                </div>
                <div class="input-block">
                    <label for="password">Password</label>
                    <input name="password" type="password" id="password"  />
                </div>
                <button name="FormButton" type="submit" class="btn-login" id='submit')>Login</button>
            </form>
        </div>
    </section>
    <ul class="squares">
    </ul>

    <script language="Javascript">
    function ValidateEmail(field) {
    var usuario = field.value.substring(0, field.value.indexOf("@"));
    var dominio = field.value.substring(field.value.indexOf("@")+ 1, field.value.length);
    
    var Submit = document.getElemenetById('submit')

    if ((usuario.length >=1) &&
        (dominio.length >=3) &&
        (usuario.search("@")==-1) &&
        (dominio.search("@")==-1) &&
        (usuario.search(" ")==-1) &&
        (dominio.search(" ")==-1) &&
        (dominio.search(".")!=-1) &&
        (dominio.indexOf(".") >=1)&&
        (dominio.lastIndexOf(".") < dominio.length - 1)) {
    document.getElementById("email").innerHTML="E-mail válido";
    alert("E-mail valido");
    }
    else{
    document.getElementById("email").innerHTML="<font color='red'>E-mail inválido </font>";
    alert("E-mail invalido");
    }
    }


    </script>

    <script>
        var email = document.getElementById('email')
        var password = document.getElementById('password')
        var form = document.getElementById('f1')
        var errorElement = document.getElementById('error')

        form.addEventListener('submit', event => {
            let messages = []
            if(email.value === '' || email.value == null) {
            messages.push('O campo email é obrigatório')
            }

            if (messages.length > 0) {
                e.preventDefault()
                errorElement.innerText = messages.join(', ')
            }
        })

    </script>

    <script>

/* background squares */

    const ulSquares = document.querySelector("ul.squares");

    for (let i =0; i < 11; i++) {
        const li = document.createElement("li");

        const size = Math.floor(Math.random() * (120 - 10) + 10);

        const position = Math.random() * (99 -1) + 1;

        const delay = Math.random() * (5, 0.1) + 0.1;

        const duration = Math.random() * (24 - 12) + 12;

        li.style.width= `${size}px`;
        li.style.height= `${size}px`;
        li.style.bottom= `-${size}px`;

        li.style.left = `${position}%`;

        li.style.animationDelay = `${delay}s`;
        li.style.animationDuration = `${duration}s`;
        li.style.animationTimingFunction = `cubic-bezier(${Math.random(),Math.random(),Math.random(),Math.random()})`;

        ulSquares.appendChild(li);
    }

</script>
</body>

</html>