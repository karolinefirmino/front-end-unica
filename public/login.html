<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Login</title>
    <link rel="stylesheet" href="login-style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
</head>

<body>
    <div id="error"></div>
    <section class="form-section">
        <h1 ><a href="./index.html">Lispector Livraria</a></h1>
        <div class="form-wrapper">
            <form name="FormLogin" id="FormLogin" action="">
                <div class="input-block">
                    <label for="email">Email</label>
                    <input name="email" type="email" id="email" />
                </div>
                <div class="input-block">
                    <label for="password">Password</label>
                    <input name="password" type="password" id="password"  />
                </div>
                <button type="submit" class="btn-login" id='validate')>Login</button>
            </form>
        </div>
    </section>
    <ul class="squares">
    </ul>
    <script src="script.js"></script>
    <!--<script src="login-validation.js"></script>-->
    <script>
        var email = document.getElementById('email')
        var password = document.getElementById('password')
        var button = document.getElementById('validate')
        var form = document.getElementById('FormLogin')
        var errorElement = document.getElementById('error')

        button.addEventListener('click', (e) => {
            let messages = []
            if (email.value === '' || email.value == null) {
                messages.push('O campo email é obrigatório')
                alert('O campo email é obrigatório')
            } 
            else {
                // Validação de Email com REGEX - INÍCIO 
                var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                var isValid = false;
                if(email.value.lenght > 0 || email.value.match(mailformat))
                    {
                    console.log("Email Válido!")
                    true
                    isValid = true
                }
                    
                else
                    {
                    alert("Você inseriu um endereço de email inválido!!")
                    console.log('O campo password está em branco')
                    e.preventDefault()
                    errorElement.innerText = messages.join(', ')
                    isValid = false
                    }
                    
                    if (password.value.length == 0 || password.value == null ) {
                        messages.push('O campo senha é obrigatório')
                        alert('O campo senha é obrigatório')
                        console.log('O campo password está em branco')
                        password.focus()
                        e.preventDefault()
                        errorElement.innerText = messages.join(', ')
                        }
                    if(password.value.length > 6) {
                        console.log('A senha é válida!')} 
                    else {
                        console.log('A senha é inválida')
                        alert('Senha inválida')
                        console.log('A senhá foi preenchida, mas é inválida')
                        password.focus()
                        e.preventDefault()
                        errorElement.innerText = messages.join(', ')
                    }
                    }

        })

        
        </script>
        <script>
       // Validação de dados - email (REX JS)
        
        /*button.addEventListener('click', function ValidateEmail(inputText) {
        var mailformat = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
        if(inputText.value.match(mailformat))
            {
            alert("Valid email address!");
            document.form.email.focus();
            return true;
            }
        else
            {
            alert("You have entered an invalid email address!");
            document.form.email.focus();
            return false;
            }
        })*/

        
    </script>
</body>

</html>